<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script type="text/javascript">
            function getComputerChoice() {
              let choice;

              switch (Math.floor(Math.random()*3) + 1) {
              case 1:
                choice = "rock";
                break;
                
              case 2:
                choice = "paper";
                break;

              default:
                choice = "scissors";
              }
              return choice;
            }

            function playRound(playerSelection, computerSelection) {
              playerSelection = String(playerSelection).toLowerCase();
              let verdict;

              if (playerSelection == "rock") {
                switch (computerSelection) {
                case "rock":
                  verdict = "You tie! Both of you chose rock.";
                  break;
                case "paper":
                  verdict = "You lose! Paper covers rock.";
                  break;
                case "scissors":
                  verdict = "You win! Rock smashes scissors.";
                }
              } else if (playerSelection == "paper") {
                switch (computerSelection) {
                case "rock":
                  verdict = "You win! Paper covers rock.";
                  break;
                case "paper":
                  verdict = "You tie! Both of you chose paper.";
                  break;
                case "scissors":
                  verdict = "You lose! Scissors cut paper.";
                }
              } else if (playerSelection =="scissors") {
                switch (computerSelection) {
                case "rock":
                  verdict = "You lose! Rock smashes scissors.";
                  break;
                case "paper":
                  verdict = "You win! Scissors cut paper.";
                  break;
                case "scissors":
                  verdict = "You tie! Both of you chose scissors.";
                }
              }

              return verdict;
            }

            function incScores(verdictins, losses) {
              let outcome = String(verdict).substr(4, 1);
              
              switch (outcome) {
              case "w":
                wins++;
                break;
              case "l":
                losses++;
                break;
              }
              return ;
            }

            function game() {
              let wins = 0;
              let losses = 0;
              
              for (let i = 0; i < 5; i++) {
                let playerSelection = prompt("Rock, Paper, or Scissors?");
                verdict = playRound(playerSelection, getComputerChoice());
                
                if (String(verdict).substr(4,1) == "w") { wins++; }
                else if (String(verdict).substr(4,1) == "l") { losses++; }

                console.log( verdict + ` Wins: ${wins} Losses: ${losses}` )
              }

              (wins > losses) ? console.log( "You win!" ) 
              : (losses > wins) ? console.log( "You lose!" )
              : console.log( "It's a tie!" )
            }
            
            game();
        </script>
    </body>
</html>
